"use strict";(globalThis.webpackChunk_MikaEdit=globalThis.webpackChunk_MikaEdit||[]).push([[631],{5631:(e,n,t)=>{t.r(n),t.d(n,{default:()=>V});var r=t(2197),i=t(3361),a=t(515),l=t(2709),o=t(7207),c=t(4788),s=[{filename:"src",value:"",path:"src",kind:"directory",children:[{filename:"index.html",value:'<script type=\'text/x-handlebars\'><img\n    class="headImage"\n    src="https://emberjs.com/images/brand/ember-tomster-lockup-4c.svg"\n/>\n<h1>Congratulations, you made it!</h1>\n<p>Hello, {{name}}</p>\n<h2>Controls</h2>\n<div class="input-group">\n    {{input class="form-control" type="text" value=selector placeholder="Enter\n    Selector"}}\n    <span class="input-group-btn">\n        <button type="button" class="btn btn-primary submit">Apply</button>\n        {{selector}}\n    </span>\n</div>\n<\/script>\n',path:"src/index.html"},{filename:"index.js",value:"var App = Ember.Application.create();\nApp.ApplicationRoute = Ember.Route.extend({\n    model: function () {\n        return { name: 'Ember.js v1.0.0' };\n    }\n});\n",path:"src/index.js"},{filename:"index.css",value:"@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap');\n* {\n    box-sizing: border-box;\n}\nhtml,\nbody {\n    margin: 0;\n    padding: 0;\n    width: 100vw;\n    height: 100vh;\n    font-family: Roboto;\n    overflow: auto;\n}\n.headImage{\n    width:100%;\n}\n.bg {\n    height: 100px;\n    width: 100px;\n    margin-bottom: 1em;\n    margin-top: 10px;\n}\n.totalHeader {\n    background: url(\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20634.6%20177.4'%3e%3cpath%20d='M138.2%2023.5c7.9%2011.1%2011%2024.8%208.6%2038.2-1.1%206.3-3.6%2012.3-7.1%2017.7%205.2%209.8%206.9%2021.1%204.9%2032-2.4%2013.1-10.1%2024.6-21.4%2031.7l-41.3%2026.3c-23.5%2015-56.1%208-72.5-15.6-7.9-10.9-11-24.7-8.6-38.1%201.1-6.3%203.6-12.3%207.1-17.7C2.7%2088.2%201%2076.9%203%2066c2.4-13.1%2010.1-24.7%2021.4-31.7L65.7%207.9c23.5-15%2056-8%2072.5%2015.6'%20style='fill:%23ff3e00'/%3e%3cpath%20d='M61.6%20156.2c3-.8%205.8-2%208.4-3.7l41.3-26.3c6.8-4.3%2011.5-11.2%2012.9-19.1%201.4-8-.4-16.3-5.2-23-7.8-11.3-21.9-16.5-35.2-13.1-3%20.8-5.8%202-8.4%203.7l-15.8%2010c-.8.5-1.6.9-2.5%201.1-4%201-8.3-.5-10.6-3.9-1.4-2-2-4.5-1.6-6.9.4-2.4%201.8-4.5%203.9-5.7L90.1%2043c.8-.5%201.6-.9%202.5-1.1%204-1%208.3.5%2010.6%203.9%201.3%201.8%201.9%204%201.7%206.1v1.5c-.1%200%201.4.5%201.4.5%205.8%201.8%2011.3%204.5%2016.2%208.1l2.1%201.6.8-2.4c.4-1.3.7-2.6%201-3.9%201.4-8-.4-16.3-5.2-23C113.4%2023%2099.3%2017.8%2086%2021.2c-3%20.8-5.8%202-8.4%203.7L36.3%2051.2c-6.8%204.3-11.5%2011.2-12.9%2019.1-1.4%208%20.4%2016.3%205.2%2023%207.8%2011.3%2021.9%2016.5%2035.2%2013.1%203-.8%205.8-2%208.4-3.7L88%2092.6c.8-.5%201.6-.9%202.5-1.1%204-1%208.3.5%2010.6%203.9%201.4%202%202%204.5%201.6%206.9-.4%202.4-1.8%204.5-3.9%205.8l-41.3%2026.3c-.8.5-1.6.9-2.5%201.1-4%201-8.3-.5-10.6-3.9-1.3-1.8-1.9-4-1.7-6.1V124c.1%200-1.4-.5-1.4-.5-5.8-1.8-11.3-4.5-16.2-8.1l-2.1-1.6-.8%202.4c-.4%201.3-.7%202.6-1%203.9-1.4%208%20.4%2016.3%205.2%2023%207.8%2011.3%2021.9%2016.5%2035.2%2013.1'%20style='fill:%23fff'/%3e%3cpath%20d='M242%20127.9c-6.2.2-12.3-1.6-17.4-4.9-4.8-3.2-8.4-8-10.2-13.5l10.6-3.9c1.5%203.4%203.9%206.3%206.9%208.4%203.1%202.1%206.8%203.2%2010.5%203.1%203.6.2%207.1-.9%2010-3%202.5-2.1%203.9-5.4%203.7-8.7%200-1.5-.3-3-1-4.4-.6-1.2-1.4-2.3-2.3-3.3-1.2-1.1-2.5-2-4-2.7-1.8-.9-3.3-1.6-4.5-2.1-1.2-.5-2.9-1.1-5.3-1.9-2.9-1-5.1-1.8-6.5-2.4-2-.8-3.9-1.8-5.7-2.9-2-1-3.8-2.4-5.3-4-1.3-1.6-2.4-3.3-3.2-5.3-3.1-7.5-1-16.1%205.1-21.3%204.3-3.8%2010.2-5.7%2017.7-5.7%206.2%200%2011.3%201.4%2015.3%204.1%203.9%202.6%206.7%206.5%208.1%2010.9l-10.4%203.5c-1-2.3-2.8-4.3-5-5.6-2.7-1.5-5.7-2.2-8.8-2.1-3-.2-6%20.7-8.5%202.4-2.1%201.6-3.2%204.1-3.1%206.7%200%202%20.9%203.9%202.4%205.2%201.4%201.4%203.1%202.6%205%203.4%201.7.7%204.4%201.7%207.9%202.9%202.2.8%203.8%201.4%204.8%201.8%201%20.4%202.6%201.1%204.6%202%201.6.7%203.2%201.6%204.7%202.5%201.3%201%202.6%202%203.8%203.1%201.3%201.1%202.4%202.5%203.3%204%20.8%201.5%201.5%203.2%201.9%204.9.6%202%20.8%204.1.8%206.1%200%207.1-2.4%2012.6-7.3%2016.6-4.8%204-11.1%206-18.6%206Zm69.4-1.3-26-75.8h12.1l17.2%2052.9c1%202.8%201.7%205.7%202.4%208.7.6-2.9%201.4-5.8%202.4-8.7l17-52.9h12l-25.9%2075.8h-11.3Zm60.2%200V50.8h47v10.6h-35.8v20.8h23.1v10.6h-23.1V116h38.1v10.6h-49.4Zm78.1%200V50.8H461v65h37.1v10.8h-48.3Zm90.8-65v65h-11.3v-65h-21.5V50.8h54.2v10.8h-21.5Zm44.7%2065V50.8h47v10.6h-35.8v20.8h23.1v10.6h-23.1V116h38.1v10.6h-49.4Z'%20style='fill:%234a4a55'/%3e%3c/svg%3e\")\n        no-repeat;\n    width: 380px;\n    height: 140px;\n    padding: 0 var(--padding-right) 0 calc(var(--sk-page-padding-side) + 0rem);\n    display: flex;\n    align-items: flex-end;\n    font-size: 34px;\n    font-weight: 500;\n    margin-bottom: 40px;\n    line-height: 0px;\n    justify-content: center;\n}\n",path:"src/index.css"}]}],u=t(6205),d=t(8347),p=t(8833),h=function(e,n,t){var r,i={"index.html":e};((null==n||null===(r=n[0])||void 0===r?void 0:r.children)||[]).forEach(function(e){/index.html/.test(e.filename)||(i["".concat(e.filename)]=e.value)}),null==i||i["index.js"];var a=null==i?void 0:i["index.css"],l=null==i?void 0:i["index.js"],o=null==i?void 0:i["index.html"],c=document.createElement("iframe");c.setAttribute("id","frameLive"),c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("style","border:0px"),c.setAttribute("srcdoc",'<!DOCTYPE html>\n<html lang="zh-CN">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>ember preview page</title>\n    <style>'.concat(a,"</style>\n</head>\n<body>\n<script>\nwindow.console=window.parent.console;\n<\/script>\n").concat(o,'\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js" integrity="sha512-jGR1T3dQerLCSm/IGEGbndPwzszJBlKQ5Br9vuB0Pw2iyxOy+7AK+lJcCC8eaXyz/9du+bkCy4HXxByhxkHf+w==" crossorigin="anonymous" referrerpolicy="no-referrer"><\/script>\n        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.0/handlebars.js"><\/script>\n        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ember.js/1.0.0-rc.7/ember.js"><\/script>\n        <script type="text/javascript">\n            ').concat(l,"\n        <\/script>\n    </body>\n    </html>")),document.getElementById("previewFrame").innerHTML="",document.getElementById("previewFrame").appendChild(c)},m=t(1187),f=t(7453),v=t(3759),b=t(4539),y=t(7861),x=t(8918),g=t(475),w=t(9075),j=t(3790),k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},k.apply(this,arguments)},A=function(e,n,t){if(t||2===arguments.length)for(var r,i=0,a=n.length;i<a;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))};const C=(0,w.PA)(function(e){var n,t=this,w=(0,r.useState)({}),C=(w[0],w[1]),U=(0,r.useState)([s[0].children[0].path]),F=U[0],E=U[1],I=a.Ay.useMessage(),O=I[0],N=I[1],S=(0,r.useState)(null),H=S[0],P=(S[1],(0,r.useState)("")),B=P[0],T=P[1],D=(0,r.useState)(""),M=D[0],z=D[1],L=(0,r.useState)(""),R=L[0],V=L[1],G=(0,r.useState)([null===(n=s[0])||void 0===n?void 0:n.path]),J=G[0],Z=G[1],_=function(e){var n=(0,j.HO)(u.U.currentFiles);(n[0].children||[]).forEach(function(e){e.path===R&&(e.filename=M)}),u.U.setCurrentFiles(n);var t={id:"daryl",name:"daryl",templates:(0,j.HO)(n)};(0,g.O6)(u.U.currentIndexDBInstance.db,"ember-ng-templates",t);var r=n[0].children.find(function(e){return e.filename.includes("index.html")});h((null==r?void 0:r.value)||"",n),T(""),z(""),V("")},K=function(e){if(e.preventDefault(),e.stopPropagation(),!H){var n=(0,j.HO)(u.U.currentFiles);(n[0].children||[]).forEach(function(e){e.path===R&&(e.filename=M)});var t=n[0].children;if(t.length>7)O.open({type:"error",content:"maxium file number reached ！！"});else{var r={filename:"newFile".concat(t.length,".js"),path:"src/newFile".concat(t.length,".js"),value:" "};n[0].children.push(r),u.U.setCurrentFiles(n);var i={id:"daryl",name:"daryl",templates:(0,j.HO)(n)};(0,g.O6)(u.U.currentIndexDBInstance.db,"mika-ember-templates",i)}}},Q=function(e,n){var t,r,i,a,l,o,c;window._canSelectTree&&("directory"!==(null===(t=null==n?void 0:n.node)||void 0===t?void 0:t.kind)&&u.U.updateCode((0,p._P)(u.U.currentFiles,null===(r=null==n?void 0:n.node)||void 0===r?void 0:r.path)||"",null===(i=null==n?void 0:n.node)||void 0===i?void 0:i.path),"directory"!==(null===(a=null==n?void 0:n.node)||void 0===a?void 0:a.kind)&&u.U.updateInfo((null==n?void 0:n.node)||""),Z(J.includes(null===(l=null==n?void 0:n.node)||void 0===l?void 0:l.filename)?J.filter(function(e){return e!==n.node.filename}):A(A([],J,!0),[null===(o=null==n?void 0:n.node)||void 0===o?void 0:o.filename],!1)),E([null===(c=null==n?void 0:n.node)||void 0===c?void 0:c.path]),T(""),V(""))};return(0,r.useEffect)(function(){var e={db:null,storeName:"mika-ember-templates",version:1},n={id:"daryl",name:"daryl",templates:s};setTimeout(function(){return r=t,i=void 0,l=function(){var t,r,i,a,l;return function(e,n){var t,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=o(0),l.throw=o(1),l.return=o(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(o){return function(c){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;l&&(l=0,o[0]&&(a=0)),a;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e],r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,function(o){switch(o.label){case 0:return[4,(0,g.r6)(e)];case 1:t=o.sent(),u.U.setCurrentFiles(s),u.U.setCurrentIndexDBInstance(t),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,(0,g.bQ)(t.db,"mika-ember-templates","daryl")];case 3:return(null==(r=o.sent())?void 0:r.templates)?u.U.setCurrentFiles(r.templates):(0,g.ys)(t.db,"mika-ember-templates",n),i=((null==r?void 0:r.templates)||s)[0].children.find(function(e){return e.filename.includes("index.html")}),u.U.updateCode(i.value,"index.html"),u.U.updateInfo(i),C(i),a=setInterval(function(){document.getElementById("previewFrame")&&(h((null==i?void 0:i.value)||"",(null==r?void 0:r.templates)||s),clearInterval(a))},500),[3,5];case 4:return l=o.sent(),console.log(l),[3,5];case 5:return[2]}})},new((a=void 0)||(a=Promise))(function(e,n){function t(e){try{c(l.next(e))}catch(e){n(e)}}function o(e){try{c(l.throw(e))}catch(e){n(e)}}function c(n){var r;n.done?e(n.value):(r=n.value,r instanceof a?r:new a(function(e){e(r)})).then(t,o)}c((l=l.apply(r,i||[])).next())});var r,i,a,l})},[]),(0,r.useEffect)(function(){d.H.switchFileNode.length>0&&Q(0,{node:{path:d.H.switchFileNode[0],filename:d.H.switchFileNode[0]}})},[d.H.switchFileNode]),(0,i.jsxs)("div",{className:"mika-mona-left-dir",children:[N,u.U.currentFiles.length>0&&(0,i.jsx)(o.A,{showLine:!1,showIcon:!0,icon:(0,i.jsx)(m.A,{}),switcherIcon:(0,i.jsx)(f.A,{}),onSelect:Q,onRightClick:function(e){var n;T(null===(n=null==e?void 0:e.node)||void 0===n?void 0:n.path)},selectedKeys:F,onExpand:function(e,n){Z(e)},expandedKeys:J,titleRender:function(e){return R===e.path?(0,i.jsx)(c.A,{size:"small",value:M,onClick:function(e){e.stopPropagation()},onFocus:function(e){e.stopPropagation()},onInput:function(e){!function(e){z(e.target.value)}(e)},onBlur:_}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mika-mona-left-dir-title",children:e.filename}),"src"===e.path&&(0,i.jsx)("span",{className:"mika-mona-left-dir-title-add",onClick:K,children:(0,i.jsx)(v.A,{})}),B===e.path&&!(/App.vue|app.jsx|index.html|index.js|index.css/.test(B)||"src"===B)&&(0,i.jsxs)("div",{className:"mika-mona-left-dir-title-op",children:[(0,i.jsx)("span",{children:(0,i.jsx)(b.A,{onClick:function(n){!function(e,n){e.preventDefault(),e.stopPropagation(),z(null==n?void 0:n.filename),V(null==n?void 0:n.path)}(n,e)}})}),(0,i.jsx)("span",{children:(0,i.jsx)(y.A,{onClick:function(n){return function(e,n){e.preventDefault(),e.stopPropagation(),l.A.confirm({title:"Are you sure you want to delete this file?",onOk:function(){var e=(0,j.HO)(u.U.currentFiles),t=e[0].children;t=t.filter(function(e){return e.path!==n.path}),e[0].children=t,u.U.setCurrentFiles(e);var r={id:"daryl",name:"daryl",templates:(0,j.HO)(e)};(0,g.O6)(u.U.currentIndexDBInstance.db,"mika-ember-templates",r),E([s[0].children[0].path]);var i=e[0].children.find(function(e){return e.filename.includes("index.html")});h((null==i?void 0:i.value)||"",e),Q(0,{node:i})}})}(n,e)}})})]})]})},treeData:(JSON.parse(JSON.stringify(u.U.currentFiles))||[]).map(function(e){return k(k({},e),{icon:"directory"===e.kind?(0,i.jsx)(x.A,{}):(0,i.jsx)(m.A,{})})}),fieldNames:{title:"filename",key:"path"}})]})});var U=t(4345),F=t(8463),E=t(5283),I=t(9082),O=t(3220),N=t(6745),S=t(5530),H=t(7427),P=t(2464),B=t(7463),T=function(e,n,t,r){return new(t||(t=Promise))(function(i,a){function l(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(l,o)}c((r=r.apply(e,n||[])).next())})},D=function(e,n){var t,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=o(0),l.throw=o(1),l.return=o(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(o){return function(c){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;l&&(l=0,o[0]&&(a=0)),a;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e],r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};const M=(0,w.PA)(function(e){var n=this,t=(0,r.useMemo)(function(){return/.*\.html$/.test(u.U.path)?"html":/.*\.js$/.test(u.U.path)?"javascript":"css"},[u.U.path]),a=function(e,t){return T(n,void 0,void 0,function(){var n,t;return D(this,function(r){return u.U.replaceFileContent(e),u.U.updateCode(e||" "),n=(0,p._P)(u.U.currentFiles,"src/index.html"),h(n||"",JSON.parse(JSON.stringify(u.U.currentFiles))),t={id:"daryl",name:"daryl",templates:(0,j.HO)(u.U.currentFiles)},(0,g.O6)(u.U.currentIndexDBInstance.db,"mika-ember-templates",t),[2]})})};return(0,r.useEffect)(function(){d.H.updatedCode&&a(d.H.updatedCode)},[d.H.updatedCode]),(0,i.jsxs)("div",{className:"mika-mona-center-editor",children:[(0,i.jsx)(H.A,{placement:"bottom",color:"lime",title:"formatting codes",children:(0,i.jsx)(P.Ay,{className:"mika-mona-center-editor-format",shape:"circle",icon:(0,i.jsx)(B.A,{}),size:"small",onClick:function(){return T(n,void 0,void 0,function(){var e,n,r;return D(this,function(i){switch(i.label){case 0:e=u.U.code,n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,F.GP("html"===t?e.split(/<script.*text\/x-handlebars[',"]/).join('<slot type="replace"').replace(/script>/g,"slot>"):e,{parser:"javascript"!==t?t:"babel",plugins:[E,N,I,O],tabWidth:4,useTabs:!1,semi:!0,singleQuote:!0,trailingComma:"none",bracketSpacing:!0,arrowParens:"always"})];case 2:return n=i.sent(),u.U.updateCode(" "),setTimeout(function(){var e="html"===t?n.replace(/<slot type="replace"/g,"<script type='text/x-handlebars'").replace(/slot>/g,"script>"):n;u.U.replaceFileContent(e),u.U.updateCode(e)},200),[3,4];case 3:return r=i.sent(),console.log(r),[2];case 4:return[2]}})})}})}),u.U.code&&(0,i.jsx)(U.Ay,{height:"calc(100vh - 66px)",language:"html"===t?"handlebars":t,theme:"vs-dark",value:u.U.code,options:S.A,loading:(0,i.jsx)("div",{className:"monac-load",children:"编辑器加载中.."}),onChange:(0,p.N1)(a,1e3),onMount:function(e,n){e.focus()}})]})}),z=(0,w.PA)(function(e){var n=(0,r.useRef)(null);return(0,i.jsx)("div",{className:"mika-mona-right-view simpleFrame ember-frame",id:"previewFrame",ref:n})});var L=t(6907),R=t(2595);t(3990);const V=(0,L.PA)(function(){return(0,r.useEffect)(function(){},[]),r.createElement(r.Fragment,null,r.createElement("div",{className:"App"},r.createElement(C,null),r.createElement(M,null),r.createElement(z,null)),r.createElement(R.A,{spinning:u.U.showSpin,percent:"auto",fullscreen:!0},"ember切换中..."))})}}]);