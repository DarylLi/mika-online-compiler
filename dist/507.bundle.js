/*! For license information please see 507.bundle.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_MikaEdit=globalThis.webpackChunk_MikaEdit||[]).push([[507],{3507:(n,e,t)=>{t.r(e),t.d(e,{default:()=>Q});var r=t(2197),o=t(3361),a=t(515),i=t(2709),p=t(7207),l=t(4788),d=[{filename:"src",value:"",path:"src",kind:"directory",children:[{filename:"index.pug",value:"body\n    .pug\n      .head\n      .left-ear\n      .right-ear\n      .left-wrinkles\n      .right-wrinkles\n      .right-eye\n        .right-eye-ball\n      .left-eye\n        .left-eye-ball\n      .mouth\n      .left-mouth\n      .right-mouth\n      .bottom-mouth\n      .nose\n    h2\n      | pug is watching u ~\n    .modal-dialog\n        .modal-content\n          // Modal Header\n          .modal-header\n            button.close(type=\"button\", data-dismiss=\"modal\")\n              span(aria-hidden=\"true\") ×\n              span.sr-only Close\n            h4#myModalLabel.modal-title\n              |  Edit Resource\n          // Modal Body\n          .modal-body\n            //#editForm.form(role='form' method='GET' action='https://www.google.com/')\n            form(role='form' method='GET' action='https://www.google.com/')\n              div.form-group\n                label(for='name') Name:\n                input#name.form-control(type='text', placeholder='name' name='name')\n              div.form-group\n                label(for='email') Email:\n                input#email.form-control(type='email', placeholder='name@email.com' name='email')\n              button.btn.btn-primary(type=\"submit\", name=\"asdf\") Submit\n              button.btn.btn-default(type=\"button\", data-dismiss=\"modal\")\n                | Close\n",path:"src/index.pug"},{filename:"index.js",value:" console.log('pug init !')",path:"src/index.js"},{filename:"index.scss",value:"body {\n    button {\n        margin: 0 10px;\n    }\n    h2 {\n        margin-top: -65px;\n        position: absolute;\n        width: 100%;\n        text-align: center;\n    }\n}\n.modal-dialog {\n    margin-top: 280px;\n}\n.pug {\n    width: 550px;\n    height: 425px;\n    margin: auto;\n    overflow: auto;\n    position: absolute;\n    div {\n        position: absolute;\n    }\n    div:after,\n    div:before {\n        position: absolute;\n        content: '';\n    }\n    scale: 0.5;\n    display: flex;\n    align-items: center;\n    left: 70px;\n    transform: translate(-50%, 0px);\n    top: -100px;\n}\n.head {\n    width: 330px;\n    height: 340px;\n    left: 110px;\n    top: 5px;\n    background: #efdec2;\n    border-top-left-radius: 150px;\n    border-top-right-radius: 150px;\n    border-bottom-left-radius: 75px;\n    border-bottom-right-radius: 75px;\n\n    -webkit-box-shadow: inset 3px -3px 30px rgba(0, 0, 0, 0.45);\n    box-shadow: inset 3px -3px 30px rgba(0, 0, 0, 0.45);\n}\n.left-ear {\n    width: 150px;\n    height: 205px;\n    top: 10px;\n    left: 40px;\n    background: #17262b;\n    border-top-left-radius: 55px;\n    border-top-right-radius: 25px;\n    border-bottom-left-radius: 15px;\n\n    -webkit-transform: skew(0, -5deg);\n    transform: skew(0, -5deg);\n\n    -webkit-box-shadow: inset 13px 13px 50px rgba(0, 0, 0, 0.75);\n    box-shadow: inset 13px 13px 50px rgba(0, 0, 0, 0.75);\n}\n.left-ear:before {\n    display: none;\n    width: 35px;\n    height: 50px;\n    bottom: -10px;\n    left: 38px;\n    background: #fff;\n    border-radius: 15px;\n}\n.left-ear:after {\n    width: 200px;\n    height: 235px;\n    top: 15px;\n    left: 75px;\n    background: #efdec2;\n    border-radius: 50px;\n    -webkit-transform: rotate(30deg);\n    transform: rotate(30deg);\n    -webkit-box-shadow: inset 6px -5px 20px rgba(0, 0, 0, 0.25);\n    box-shadow: inset 6px -5px 20px rgba(0, 0, 0, 0.25);\n}\n.right-ear {\n    width: 150px;\n    height: 200px;\n    top: 10px;\n    right: 40px;\n    background: #17262b;\n\n    border-top-right-radius: 55px;\n    border-top-left-radius: 25px;\n    border-bottom-right-radius: 15px;\n    -webkit-transform: skew(0, 5deg);\n    transform: skew(0, 5deg);\n\n    -webkit-box-shadow: inset -13px 13px 50px rgba(0, 0, 0, 0.75);\n    box-shadow: inset -13px 13px 50px rgba(0, 0, 0, 0.75);\n}\n.right-ear:after {\n    width: 200px;\n    height: 235px;\n    top: 15px;\n    right: 75px;\n    background: #efdec2;\n    border-radius: 50px;\n    -webkit-transform: rotate(-30deg);\n    transform: rotate(-30deg);\n}\n.left-eye {\n    width: 140px;\n    height: 175px;\n    top: 90px;\n    left: 110px;\n    background: #efdec2;\n    border-radius: 75px;\n    border-top-right-radius: 25px;\n\n    -webkit-box-shadow:\n        -1px 3px 3px rgba(0, 0, 0, 0.25),\n        1px -3px 3px rgba(0, 0, 0, 0.25),\n        inset 3px -3px 20px rgba(0, 0, 0, 0.25);\n    box-shadow:\n        -1px 3px 3px rgba(0, 0, 0, 0.25),\n        1px -3px 3px rgba(0, 0, 0, 0.25),\n        inset 3px -3px 20px rgba(0, 0, 0, 0.25);\n\n    -webkit-transform: rotate(-20deg);\n    transform: rotate(-20deg);\n}\n.left-eye:before {\n    width: 100px;\n    height: 125px;\n    left: 20px;\n    top: 15px;\n    background: #17262b;\n    border-top-left-radius: 50px;\n    border-top-right-radius: 25px;\n    border-bottom-left-radius: 25px;\n\n    -webkit-box-shadow: inset -3px 1px 7px rgba(0, 0, 0, 0.95);\n    box-shadow: inset -3px 1px 7px rgba(0, 0, 0, 0.95);\n}\n.left-eye-ball {\n    width: 70px;\n    height: 70px;\n    left: 35px;\n    top: 35px;\n    border-radius: 50%;\n    background: #674833;\n    -webkit-box-shadow: inset -1px 2px 12px rgba(0, 0, 0, 0.95);\n    box-shadow: inset -1px 2px 12px rgba(0, 0, 0, 0.95);\n}\n.left-eye-ball:before {\n    width: 40px;\n    height: 40px;\n    top: 15px;\n    left: 15px;\n    background: #000;\n    border-radius: 50%;\n}\n.left-eye-ball:after {\n    width: 20px;\n    height: 20px;\n    top: 5px;\n    left: 20px;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.75);\n}\n.right-eye {\n    width: 140px;\n    height: 175px;\n    top: 90px;\n    right: 110px;\n    background: #efdec2;\n    border-radius: 75px;\n    border-top-left-radius: 25px;\n\n    -webkit-box-shadow:\n        -1px 3px 3px rgba(0, 0, 0, 0.25),\n        1px -3px 3px rgba(0, 0, 0, 0.25),\n        inset 3px -3px 20px rgba(0, 0, 0, 0.25);\n    box-shadow:\n        -1px 3px 3px rgba(0, 0, 0, 0.25),\n        1px -3px 3px rgba(0, 0, 0, 0.25),\n        inset 3px -3px 20px rgba(0, 0, 0, 0.25);\n\n    -webkit-transform: rotate(20deg);\n    -moz--transform: rotate(20deg);\n    transform: rotate(20deg);\n}\n.right-eye:before {\n    width: 100px;\n    height: 125px;\n    left: 20px;\n    top: 15px;\n    background: #17262b;\n    border-top-right-radius: 50px;\n    border-top-left-radius: 25px;\n    border-bottom-right-radius: 25px;\n\n    -webkit-box-shadow: inset -3px 1px 7px rgba(0, 0, 0, 0.95);\n    box-shadow: inset -3px 1px 7px rgba(0, 0, 0, 0.95);\n}\n.right-eye-ball {\n    width: 70px;\n    height: 70px;\n    left: 35px;\n    top: 35px;\n    border-radius: 50%;\n    background: #674833;\n\n    -webkit-box-shadow: inset -1px 2px 12px rgba(0, 0, 0, 0.95);\n    box-shadow: inset -1px 2px 12px rgba(0, 0, 0, 0.95);\n}\n.right-eye-ball:before {\n    width: 40px;\n    height: 40px;\n    top: 15px;\n    left: 15px;\n    background: #000;\n    border-radius: 50%;\n}\n.right-eye-ball:after {\n    width: 20px;\n    height: 20px;\n    top: 10px;\n    left: 10px;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.75);\n}\n.mouth {\n    width: 215px;\n    height: 215px;\n    top: 150px;\n    left: 167px;\n    background: #d4bea9;\n    border-radius: 40%;\n    border-bottom-left-radius: 50%;\n\n    background: -webkit-radial-gradient(left bottom, #17262b 70%, #efdec2 86%);\n    background: -moz-radial-gradient(left bottom, #17262b 70%, #efdec2 86%);\n\n    -webkit-transform: rotate(-45deg);\n    -moz-transform: rotate(-45deg);\n    transform: rotate(-45deg);\n}\n.left-mouth {\n    width: 130px;\n    height: 180px;\n    bottom: 60px;\n    left: 143px;\n    background: #17262b;\n\n    border-top-left-radius: 200px;\n    border-bottom-left-radius: 50px;\n\n    -webkit-box-shadow:\n        -3px -2px 5px rgba(0, 0, 0, 0.95),\n        inset 6px -6px 45px rgba(0, 0, 0, 0.95);\n    box-shadow:\n        -3px -2px 5px rgba(0, 0, 0, 0.95),\n        inset 6px -6px 45px rgba(0, 0, 0, 0.95);\n}\n.right-mouth {\n    width: 130px;\n    height: 180px;\n    right: 143px;\n    bottom: 60px;\n    background: #d4bea9;\n\n    border-top-right-radius: 200px;\n    border-bottom-right-radius: 50px;\n\n    -webkit-box-shadow:\n        -3px -2px 5px rgba(0, 0, 0, 0.95),\n        inset 6px -6px 45px rgba(0, 0, 0, 0.95);\n    box-shadow:\n        -3px -2px 5px rgba(0, 0, 0, 0.95),\n        inset 6px -6px 45px rgba(0, 0, 0, 0.95);\n\n    background: #17262b;\n}\n.bottom-mouth {\n    width: 100px;\n    height: 100px;\n    background: #d4bea9;\n\n    border-radius: 50%;\n    border-bottom-left-radius: 15px;\n    border-bottom-right-radius: 15px;\n\n    bottom: 52px;\n    left: 225px;\n\n    -webkit-box-shadow:\n        inset -1px 3px 15px rgba(0, 0, 0, 0.95),\n        inset -6px -6px 45px rgba(0, 0, 0, 0.95);\n    box-shadow:\n        inset -1px 3px 15px rgba(0, 0, 0, 0.95),\n        inset -6px -6px 45px rgba(0, 0, 0, 0.95);\n    background: #151e25;\n    z-index: 1;\n}\n.nose {\n    width: 70px;\n    height: 70px;\n    top: 170px;\n    left: 240px;\n    background: #0e1419;\n\n    border-radius: 50%;\n    border-top-left-radius: 15px;\n    border-bottom-right-radius: 15px;\n\n    -webkit-transform: rotate(-45deg);\n    -moz-transform: rotate(-45deg);\n    transform: rotate(-45deg);\n}\n.left-wrinkles {\n    width: 120px;\n    height: 130px;\n    top: 60px;\n    left: 135px;\n\n    border-radius: 30%;\n    -moz-border-radius: 30%;\n\n    -webkit-transform: rotate(-20deg);\n    -moz-transform: rotate(-20deg);\n    transform: rotate(-20deg);\n\n    -webkit-box-shadow: 3px -1px 5px rgba(0, 0, 0, 0.45);\n    -moz-box-shadow: 3px -1px 5px rgba(0, 0, 0, 0.45);\n    box-shadow: 3px -1px 5px rgba(0, 0, 0, 0.45);\n}\n.right-wrinkles {\n    width: 130px;\n    height: 130px;\n    top: 60px;\n    right: 135px;\n\n    border-radius: 30%;\n    -moz-border-radius: 30%;\n\n    -webkit-transform: rotate(20deg);\n    -moz-transform: rotate(20deg);\n\n    -webkit-box-shadow: -3px -1px 5px rgba(0, 0, 0, 0.45);\n    -moz-box-shadow: -3px -1px 5px rgba(0, 0, 0, 0.45);\n    box-shadow: -3px -1px 5px rgba(0, 0, 0, 0.45);\n}\n",path:"src/index.scss"}]}],s=t(6205),u=t(8347),c=t(8833),x=t(4690);function f(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var l=r&&r.prototype instanceof p?r:p,d=Object.create(l.prototype);return b(d,"_invoke",function(t,r,o){var a,p,l,d=0,s=o||[],u=!1,c={p:0,n:0,v:n,a:x,f:x.bind(n,4),d:function(e,t){return a=e,p=0,l=n,c.n=t,i}};function x(t,r){for(p=t,l=r,e=0;!u&&d&&!o&&e<s.length;e++){var o,a=s[e],x=c.p,f=a[2];t>3?(o=f===r)&&(l=a[(p=a[4])?5:(p=3,3)],a[4]=a[5]=n):a[0]<=x&&((o=t<2&&x<a[1])?(p=0,c.v=r,c.n=a[1]):x<f&&(o=t<3||a[0]>r||r>f)&&(a[4]=t,a[5]=r,c.n=f,p=0))}if(o||t>1)return i;throw u=!0,r}return function(o,s,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===s&&x(s,f),p=s,l=f;(e=p<2?n:l)||!u;){a||(p?p<3?(p>1&&(c.n=-1),x(p,l)):c.n=l:c.v=l);try{if(d=2,a){if(p||(o="next"),e=a[o]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,p<2&&(p=0)}else 1===p&&(e=a.return)&&e.call(a),p<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),p=1);a=n}else if((e=(u=c.n<0)?l:t.call(r,c))!==i)break}catch(e){a=n,p=1,l=e}finally{d=1}}return{value:e,done:u}}}(t,o,a),!0),d}var i={};function p(){}function l(){}function d(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(b(e={},r,function(){return this}),e),u=d.prototype=p.prototype=Object.create(s);function c(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,d):(n.__proto__=d,b(n,o,"GeneratorFunction")),n.prototype=Object.create(u),n}return l.prototype=d,b(u,"constructor",d),b(d,"constructor",l),l.displayName="GeneratorFunction",b(d,o,"GeneratorFunction"),b(u),b(u,o,"Generator"),b(u,r,function(){return this}),b(u,"toString",function(){return"[object Generator]"}),(f=function(){return{w:a,m:c}})()}function b(n,e,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}b=function(n,e,t,r){function a(e,t){b(n,e,function(n){return this._invoke(e,t,n)})}e?o?o(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t:(a("next",0),a("throw",1),a("return",2))},b(n,e,t,r)}function h(n,e,t,r,o,a,i){try{var p=n[a](i),l=p.value}catch(n){return void t(n)}p.done?e(l):Promise.resolve(l).then(r,o)}var g=function(){var n,e=(n=f().m(function n(e,t,r){var o,a,i,p,l,d,s,u,c,b;return f().w(function(n){for(;;)switch(n.n){case 0:return p={"index.pug":e},((null==t||null===(o=t[0])||void 0===o?void 0:o.children)||[]).forEach(function(n){/index.pug/.test(n.filename)||(p["".concat(n.filename)]=n.value)}),null==p||p["index.js"],l=null==p?void 0:p["index.scss"],n.n=1,(0,x.o)(l);case 1:d=n.v,s=null==p?void 0:p["index.js"],u=null==p?void 0:p["index.pug"],c=(null===(a=pug)||void 0===a||null===(i=a.render)||void 0===i?void 0:i.call(a,u))||"",(b=document.createElement("iframe")).setAttribute("id","frameLive"),b.setAttribute("width","100%"),b.setAttribute("height","100%"),b.setAttribute("style","border:0px"),b.setAttribute("srcdoc",'<!DOCTYPE html>\n<html lang="zh-CN">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>pug preview page</title>\n    <link rel=\'stylesheet\' href=\'https://all.franxxdaryl.site/assets/compiler-lib/bootstrap.min.css\'></link>\n    <style>'.concat(d,"</style>\n</head>\n<body>\n<script>\nwindow.console=window.parent.console;\n<\/script>\n").concat(c,'\n        <script type="text/javascript">\n            ').concat(s,"\n        <\/script>\n    </body>\n    </html>")),document.getElementById("previewFrame").innerHTML="",document.getElementById("previewFrame").appendChild(b);case 2:return n.a(2)}},n)}),function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(n){h(a,r,o,i,p,"next",n)}function p(n){h(a,r,o,i,p,"throw",n)}i(void 0)})});return function(n,t,r){return e.apply(this,arguments)}}(),m=t(1187),v=t(7453),w=t(3759),y=t(4539),k=t(7861),j=t(8918),U=t(475),F=t(9075),O=t(3790),A=function(){return A=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},A.apply(this,arguments)},C=function(n,e,t){if(t||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))};const E=(0,F.PA)(function(n){var e,t=this,x=(0,r.useState)({}),f=(x[0],x[1]),b=(0,r.useState)([d[0].children[0].path]),h=b[0],F=b[1],E=a.Ay.useMessage(),S=E[0],I=E[1],N=(0,r.useState)(null),P=N[0],T=(N[1],(0,r.useState)("")),H=T[0],z=T[1],G=(0,r.useState)(""),_=G[0],B=G[1],D=(0,r.useState)(""),M=D[0],J=D[1],L=(0,r.useState)([null===(e=d[0])||void 0===e?void 0:e.path]),R=L[0],K=L[1],Q=function(n){var e=(0,O.HO)(s.U.currentFiles);(e[0].children||[]).forEach(function(n){n.path===M&&(n.filename=_)}),s.U.setCurrentFiles(e);var t={id:"daryl",name:"daryl",templates:(0,O.HO)(e)};(0,U.O6)(s.U.currentIndexDBInstance.db,"pug-ng-templates",t);var r=e[0].children.find(function(n){return n.filename.includes("index.pug")});g((null==r?void 0:r.value)||"",e),z(""),B(""),J("")},$=function(n){if(n.preventDefault(),n.stopPropagation(),!P){var e=(0,O.HO)(s.U.currentFiles);(e[0].children||[]).forEach(function(n){n.path===M&&(n.filename=_)});var t=e[0].children;if(t.length>7)S.open({type:"error",content:"maxium file number reached ！！"});else{var r={filename:"newFile".concat(t.length,".js"),path:"src/newFile".concat(t.length,".js"),value:" "};e[0].children.push(r),s.U.setCurrentFiles(e);var o={id:"daryl",name:"daryl",templates:(0,O.HO)(e)};(0,U.O6)(s.U.currentIndexDBInstance.db,"mika-pug-templates",o)}}},W=function(n,e){var t,r,o,a,i,p,l;window._canSelectTree&&("directory"!==(null===(t=null==e?void 0:e.node)||void 0===t?void 0:t.kind)&&s.U.updateCode((0,c._P)(s.U.currentFiles,null===(r=null==e?void 0:e.node)||void 0===r?void 0:r.path)||"",null===(o=null==e?void 0:e.node)||void 0===o?void 0:o.path),"directory"!==(null===(a=null==e?void 0:e.node)||void 0===a?void 0:a.kind)&&s.U.updateInfo((null==e?void 0:e.node)||""),K(R.includes(null===(i=null==e?void 0:e.node)||void 0===i?void 0:i.filename)?R.filter(function(n){return n!==e.node.filename}):C(C([],R,!0),[null===(p=null==e?void 0:e.node)||void 0===p?void 0:p.filename],!1)),F([null===(l=null==e?void 0:e.node)||void 0===l?void 0:l.path]),z(""),J(""))};return(0,r.useEffect)(function(){var n={db:null,storeName:"mika-pug-templates",version:1},e={id:"daryl",name:"daryl",templates:d};setTimeout(function(){return r=t,o=void 0,i=function(){var t,r,o,a,i;return function(n,e){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=p(0),i.throw=p(1),i.return=p(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function p(p){return function(l){return function(p){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,p[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&p[0]?r.return:p[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,p[1])).done)return o;switch(r=0,o&&(p=[2&p[0],o.value]),p[0]){case 0:case 1:o=p;break;case 4:return a.label++,{value:p[1],done:!1};case 5:a.label++,r=p[1],p=[0];continue;case 7:p=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==p[0]&&2!==p[0])){a=0;continue}if(3===p[0]&&(!o||p[1]>o[0]&&p[1]<o[3])){a.label=p[1];break}if(6===p[0]&&a.label<o[1]){a.label=o[1],o=p;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(p);break}o[2]&&a.ops.pop(),a.trys.pop();continue}p=e.call(n,a)}catch(n){p=[6,n],r=0}finally{t=o=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,l])}}}(this,function(p){switch(p.label){case 0:return[4,(0,U.r6)(n)];case 1:t=p.sent(),s.U.setCurrentFiles(d),s.U.setCurrentIndexDBInstance(t),p.label=2;case 2:return p.trys.push([2,4,,5]),[4,(0,U.bQ)(t.db,"mika-pug-templates","daryl")];case 3:return(null==(r=p.sent())?void 0:r.templates)?s.U.setCurrentFiles(r.templates):(0,U.ys)(t.db,"mika-pug-templates",e),o=((null==r?void 0:r.templates)||d)[0].children.find(function(n){return n.filename.includes("index.pug")}),s.U.updateCode(o.value,"index.pug"),s.U.updateInfo(o),f(o),a=setInterval(function(){document.getElementById("previewFrame")&&(g((null==o?void 0:o.value)||"",(null==r?void 0:r.templates)||d),clearInterval(a))},500),[3,5];case 4:return i=p.sent(),console.log(i),[3,5];case 5:return[2]}})},new((a=void 0)||(a=Promise))(function(n,e){function t(n){try{l(i.next(n))}catch(n){e(n)}}function p(n){try{l(i.throw(n))}catch(n){e(n)}}function l(e){var r;e.done?n(e.value):(r=e.value,r instanceof a?r:new a(function(n){n(r)})).then(t,p)}l((i=i.apply(r,o||[])).next())});var r,o,a,i})},[]),(0,r.useEffect)(function(){u.H.switchFileNode.length>0&&W(0,{node:{path:u.H.switchFileNode[0],filename:u.H.switchFileNode[0]}})},[u.H.switchFileNode]),(0,o.jsxs)("div",{className:"mika-mona-left-dir",children:[I,s.U.currentFiles.length>0&&(0,o.jsx)(p.A,{showLine:!1,showIcon:!0,icon:(0,o.jsx)(m.A,{}),switcherIcon:(0,o.jsx)(v.A,{}),onSelect:W,onRightClick:function(n){var e;z(null===(e=null==n?void 0:n.node)||void 0===e?void 0:e.path)},selectedKeys:h,onExpand:function(n,e){K(n)},expandedKeys:R,titleRender:function(n){return M===n.path?(0,o.jsx)(l.A,{size:"small",value:_,onClick:function(n){n.stopPropagation()},onFocus:function(n){n.stopPropagation()},onInput:function(n){!function(n){B(n.target.value)}(n)},onBlur:Q}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"mika-mona-left-dir-title",children:n.filename}),"src"===n.path&&(0,o.jsx)("span",{className:"mika-mona-left-dir-title-add",onClick:$,children:(0,o.jsx)(w.A,{})}),H===n.path&&!(/App.vue|app.jsx|index.pug|index.js|index.css/.test(H)||"src"===H)&&(0,o.jsxs)("div",{className:"mika-mona-left-dir-title-op",children:[(0,o.jsx)("span",{children:(0,o.jsx)(y.A,{onClick:function(e){!function(n,e){n.preventDefault(),n.stopPropagation(),B(null==e?void 0:e.filename),J(null==e?void 0:e.path)}(e,n)}})}),(0,o.jsx)("span",{children:(0,o.jsx)(k.A,{onClick:function(e){return function(n,e){n.preventDefault(),n.stopPropagation(),i.A.confirm({title:"Are you sure you want to delete this file?",onOk:function(){var n=(0,O.HO)(s.U.currentFiles),t=n[0].children;t=t.filter(function(n){return n.path!==e.path}),n[0].children=t,s.U.setCurrentFiles(n);var r={id:"daryl",name:"daryl",templates:(0,O.HO)(n)};(0,U.O6)(s.U.currentIndexDBInstance.db,"mika-pug-templates",r),F([d[0].children[0].path]);var o=n[0].children.find(function(n){return n.filename.includes("index.pug")});g((null==o?void 0:o.value)||"",n),W(0,{node:o})}})}(e,n)}})})]})]})},treeData:(JSON.parse(JSON.stringify(s.U.currentFiles))||[]).map(function(n){return A(A({},n),{icon:"directory"===n.kind?(0,o.jsx)(j.A,{}):(0,o.jsx)(m.A,{})})}),fieldNames:{title:"filename",key:"path"}})]})});var S=t(4345),I=t(8463),N=t(5283),P=t(9082),T=t(3220),H=t(6745),z=t(5530),G=t(7427),_=t(2464),B=t(7463),D=function(n,e,t,r){return new(t||(t=Promise))(function(o,a){function i(n){try{l(r.next(n))}catch(n){a(n)}}function p(n){try{l(r.throw(n))}catch(n){a(n)}}function l(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(i,p)}l((r=r.apply(n,e||[])).next())})},M=function(n,e){var t,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=p(0),i.throw=p(1),i.return=p(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function p(p){return function(l){return function(p){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,p[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&p[0]?r.return:p[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,p[1])).done)return o;switch(r=0,o&&(p=[2&p[0],o.value]),p[0]){case 0:case 1:o=p;break;case 4:return a.label++,{value:p[1],done:!1};case 5:a.label++,r=p[1],p=[0];continue;case 7:p=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==p[0]&&2!==p[0])){a=0;continue}if(3===p[0]&&(!o||p[1]>o[0]&&p[1]<o[3])){a.label=p[1];break}if(6===p[0]&&a.label<o[1]){a.label=o[1],o=p;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(p);break}o[2]&&a.ops.pop(),a.trys.pop();continue}p=e.call(n,a)}catch(n){p=[6,n],r=0}finally{t=o=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,l])}}};const J=(0,F.PA)(function(n){var e=this,t=(0,r.useMemo)(function(){return/.*\.pug$/.test(s.U.path)?"pug":/.*\.js$/.test(s.U.path)?"javascript":"css"},[s.U.path]),a=function(n,t){return D(e,void 0,void 0,function(){var e,t;return M(this,function(r){return s.U.replaceFileContent(n),s.U.updateCode(n||" "),e=(0,c._P)(s.U.currentFiles,"src/index.pug"),g(e||"",JSON.parse(JSON.stringify(s.U.currentFiles)),!0),t={id:"daryl",name:"daryl",templates:(0,O.HO)(s.U.currentFiles)},(0,U.O6)(s.U.currentIndexDBInstance.db,"mika-pug-templates",t),[2]})})};return(0,r.useEffect)(function(){u.H.updatedCode&&a(u.H.updatedCode)},[u.H.updatedCode]),(0,o.jsxs)("div",{className:"mika-mona-center-editor",children:[(0,o.jsx)(G.A,{placement:"bottom",color:"lime",title:"formatting codes",children:(0,o.jsx)(_.Ay,{className:"mika-mona-center-editor-format",shape:"circle",icon:(0,o.jsx)(B.A,{}),size:"small",onClick:function(){return D(e,void 0,void 0,function(){var n,e,r,o;return M(this,function(a){switch(a.label){case 0:n=s.U.code,e=null,a.label=1;case 1:return a.trys.push([1,5,,6]),"pug"!==t?[3,2]:(r=n,[3,4]);case 2:return[4,I.GP(n,{parser:"javascript"!==t?t:"babel",plugins:[N,H,P,T],tabWidth:4,useTabs:!1,semi:!0,singleQuote:!0,trailingComma:"none",bracketSpacing:!0,arrowParens:"always"})];case 3:r=a.sent(),a.label=4;case 4:return e=r,s.U.updateCode(" "),setTimeout(function(){var n=e;s.U.replaceFileContent(n),s.U.updateCode(n)},200),[3,6];case 5:return o=a.sent(),console.log(o),[2];case 6:return[2]}})})}})}),s.U.code&&(0,o.jsx)(S.Ay,{height:"calc(100vh - 66px)",language:"pug"===t?"pug":t,theme:"vs-dark",value:s.U.code,options:z.A,loading:(0,o.jsx)("div",{className:"monac-load",children:"编辑器加载中.."}),onChange:(0,c.N1)(a,1e3),onMount:function(n,e){n.focus()}})]})}),L=(0,F.PA)(function(n){var e=(0,r.useRef)(null);return(0,o.jsx)("div",{className:"mika-mona-right-view simpleFrame pug-frame",id:"previewFrame",ref:e})});var R=t(6907),K=t(2595);t(3990);const Q=(0,R.PA)(function(){return(0,r.useEffect)(function(){},[]),r.createElement(r.Fragment,null,r.createElement("div",{className:"App"},r.createElement(E,null),r.createElement(J,null),r.createElement(L,null)),r.createElement(K.A,{spinning:s.U.showSpin,percent:"auto",fullscreen:!0},"pug切换中..."))})}}]);