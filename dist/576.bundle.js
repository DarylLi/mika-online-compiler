"use strict";(globalThis.webpackChunk_MikaEdit=globalThis.webpackChunk_MikaEdit||[]).push([[576],{3576:(e,n,t)=>{t.r(n),t.d(n,{default:()=>J});var i=t(2197),r=t(3361),o=t(515),a=t(2709),l=t(7207),s=t(4788),c=[{filename:"src",value:"",path:"src",kind:"directory",children:[{filename:"index.html",value:"<!DOCTYPE html>\n<head> </head>\n<body>\n    <div class=\"logo\">\n        <img\n            src=\"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20166%20155.3'%3e%3cpath%20d='M163%2035S110-4%2069%205l-3%201c-6%202-11%205-14%209l-2%203-15%2026%2026%205c11%207%2025%2010%2038%207l46%209%2018-30z'%20fill='%2376b3e1'/%3e%3clinearGradient%20id='a'%20gradientUnits='userSpaceOnUse'%20x1='27.5'%20y1='3'%20x2='152'%20y2='63.5'%3e%3cstop%20offset='.1'%20stop-color='%2376b3e1'/%3e%3cstop%20offset='.3'%20stop-color='%23dcf2fd'/%3e%3cstop%20offset='1'%20stop-color='%2376b3e1'/%3e%3c/linearGradient%3e%3cpath%20d='M163%2035S110-4%2069%205l-3%201c-6%202-11%205-14%209l-2%203-15%2026%2026%205c11%207%2025%2010%2038%207l46%209%2018-30z'%20opacity='.3'%20fill='url(%23a)'/%3e%3cpath%20d='M52%2035l-4%201c-17%205-22%2021-13%2035%2010%2013%2031%2020%2048%2015l62-21S92%2026%2052%2035z'%20fill='%23518ac8'/%3e%3clinearGradient%20id='b'%20gradientUnits='userSpaceOnUse'%20x1='95.8'%20y1='32.6'%20x2='74'%20y2='105.2'%3e%3cstop%20offset='0'%20stop-color='%2376b3e1'/%3e%3cstop%20offset='.5'%20stop-color='%234377bb'/%3e%3cstop%20offset='1'%20stop-color='%231f3b77'/%3e%3c/linearGradient%3e%3cpath%20d='M52%2035l-4%201c-17%205-22%2021-13%2035%2010%2013%2031%2020%2048%2015l62-21S92%2026%2052%2035z'%20opacity='.3'%20fill='url(%23b)'/%3e%3clinearGradient%20id='c'%20gradientUnits='userSpaceOnUse'%20x1='18.4'%20y1='64.2'%20x2='144.3'%20y2='149.8'%3e%3cstop%20offset='0'%20stop-color='%23315aa9'/%3e%3cstop%20offset='.5'%20stop-color='%23518ac8'/%3e%3cstop%20offset='1'%20stop-color='%23315aa9'/%3e%3c/linearGradient%3e%3cpath%20d='M134%2080a45%2045%200%2000-48-15L24%2085%204%20120l112%2019%2020-36c4-7%203-15-2-23z'%20fill='url(%23c)'/%3e%3clinearGradient%20id='d'%20gradientUnits='userSpaceOnUse'%20x1='75.2'%20y1='74.5'%20x2='24.4'%20y2='260.8'%3e%3cstop%20offset='0'%20stop-color='%234377bb'/%3e%3cstop%20offset='.5'%20stop-color='%231a336b'/%3e%3cstop%20offset='1'%20stop-color='%231a336b'/%3e%3c/linearGradient%3e%3cpath%20d='M114%20115a45%2045%200%2000-48-15L4%20120s53%2040%2094%2030l3-1c17-5%2023-21%2013-34z'%20fill='url(%23d)'/%3e%3c/svg%3e\"\n        />\n    </div>\n    <div id=\"solidRoot\"></div>\n</body>\n\n",path:"src/index.html"},{filename:"index.js",value:"// https://www.solidjs.com/guides/getting-started#buildless-options\nimport { createSignal } from 'https://esm.sh/solid-js@1.8.14';\nimport { render } from 'https://esm.sh/solid-js@1.8.14/web';\n\n/* \n  https://github.com/solidjs/solid/tree/main/packages/solid/h\n  \n  This is the least efficient way to use Solid as it \n  requires a slightly larger runtime that isn't \n  treeshakeable, and cannot leverage anything in the \n  way of analysis, so it requires manual wrapping of \n  expressions and has a few other caveats\n  */\nimport h from 'https://esm.sh/solid-js@1.8.14/h';\n\nconst App = () => {\n  const [count, setCount] = createSignal(0);\n  const increment = (v) => v + 1;\n  const onClick = () => setCount(increment);\n  const showCount = () => `Clicks: ${count()}`;\n\n  return h(\n    'main',\n    undefined,\n    h('h1', undefined, 'Solid Page Start !'),\n    h('button.increment', { onClick }, showCount),\n    h(\n      'p',\n      undefined,\n      'Visit ',\n      h(\n        'a.docs',\n        { href: 'https://docs.solidjs.com/', target: '_blank' },\n        'docs.solidjs.com'\n      ),\n      ' to learn how to build SolidJS apps.'\n    )\n  );\n};\nrender(App, document.body);",path:"src/index.js"},{filename:"index.css",value:"body {\n    font-family:\n        Gordita, Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',\n        'Helvetica Neue', sans-serif;\n}\n\na {\n    margin-right: 1rem;\n}\n.logo{\n  width: 100%;\n  text-align: center;\n}\n.logo img{\n  width: 200px;\n}\nmain {\n    text-align: center;\n    padding: 1em;\n    margin: 0 auto;\n}\n\nh1 {\n    color: #335d92;\n    text-transform: uppercase;\n    font-size: 24px;\n    font-weight: 100;\n    line-height: 1.1;\n    margin: 4rem auto;\n    max-width: 14rem;\n}\n\np {\n    max-width: 14rem;\n    margin: 2rem auto;\n    line-height: 1.35;\n}\n\n@media (min-width: 480px) {\n    h1 {\n        max-width: none;\n    }\n\n    p {\n        max-width: none;\n    }\n}\n\n.increment {\n    font-family: inherit;\n    font-size: inherit;\n    padding: 1em 2em;\n    color: #335d92;\n    background-color: rgba(68, 107, 158, 0.1);\n    border-radius: 2em;\n    border: 2px solid rgba(68, 107, 158, 0);\n    outline: none;\n    width: 200px;\n    font-variant-numeric: tabular-nums;\n}\n\n.increment:focus {\n    border: 2px solid #335d92;\n}\n\n.increment:active {\n    background-color: rgba(68, 107, 158, 0.2);\n}\n\n.docs {\n    margin: 0;\n}\n",path:"src/index.css"}]}],d=t(6205),u=t(8347),p=t(8833),f=function(e,n,t){var i,r={"index.html":e};((null==n||null===(i=n[0])||void 0===i?void 0:i.children)||[]).forEach(function(e){/index.html/.test(e.filename)||(r["".concat(e.filename)]=e.value)}),null==r||r["index.js"];var o=null==r?void 0:r["index.css"],a=null==r?void 0:r["index.js"],l=null==r?void 0:r["index.html"],s=document.createElement("iframe");s.setAttribute("id","frameLive"),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("style","border:0px"),s.setAttribute("srcdoc",'<!DOCTYPE html>\n<html lang="zh-CN">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>solid preview page</title>\n    <style>'.concat(o,"</style>\n</head>\n<body>\n<script>\nwindow.console=window.parent.console;\n<\/script>\n").concat(l,'\n    <script type="module">\n        ').concat(a,"\n    <\/script>\n    </body>\n    </html>")),document.getElementById("previewFrame").innerHTML="",document.getElementById("previewFrame").appendChild(s)},h=t(1187),m=t(7453),v=t(3759),b=t(4539),y=t(7861),g=t(8918),x=t(475),w=t(9075),k=t(3790),j=function(){return j=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},j.apply(this,arguments)},U=function(e,n,t){if(t||2===arguments.length)for(var i,r=0,o=n.length;r<o;r++)!i&&r in n||(i||(i=Array.prototype.slice.call(n,0,r)),i[r]=n[r]);return e.concat(i||Array.prototype.slice.call(n))};const C=(0,w.PA)(function(e){var n,t=this,w=(0,i.useState)({}),C=(w[0],w[1]),S=(0,i.useState)([c[0].children[0].path]),A=S[0],F=S[1],O=o.Ay.useMessage(),E=O[0],I=O[1],N=(0,i.useState)(null),P=N[0],H=(N[1],(0,i.useState)("")),T=H[0],G=H[1],M=(0,i.useState)(""),z=M[0],D=M[1],B=(0,i.useState)(""),_=B[0],J=B[1],L=(0,i.useState)([null===(n=c[0])||void 0===n?void 0:n.path]),R=L[0],$=L[1],q=function(e){var n=(0,k.HO)(d.U.currentFiles);(n[0].children||[]).forEach(function(e){e.path===_&&(e.filename=z)}),d.U.setCurrentFiles(n);var t={id:"daryl",name:"daryl",templates:(0,k.HO)(n)};(0,x.O6)(d.U.currentIndexDBInstance.db,"solid-ng-templates",t);var i=n[0].children.find(function(e){return e.filename.includes("index.html")});f((null==i?void 0:i.value)||"",n),G(""),D(""),J("")},K=function(e){if(e.preventDefault(),e.stopPropagation(),!P){var n=(0,k.HO)(d.U.currentFiles);(n[0].children||[]).forEach(function(e){e.path===_&&(e.filename=z)});var t=n[0].children;if(t.length>7)E.open({type:"error",content:"maxium file number reached ！！"});else{var i={filename:"newFile".concat(t.length,".js"),path:"src/newFile".concat(t.length,".js"),value:" "};n[0].children.push(i),d.U.setCurrentFiles(n);var r={id:"daryl",name:"daryl",templates:(0,k.HO)(n)};(0,x.O6)(d.U.currentIndexDBInstance.db,"mika-solid-templates",r)}}},Q=function(e,n){var t,i,r,o,a,l,s;window._canSelectTree&&("directory"!==(null===(t=null==n?void 0:n.node)||void 0===t?void 0:t.kind)&&d.U.updateCode((0,p._P)(d.U.currentFiles,null===(i=null==n?void 0:n.node)||void 0===i?void 0:i.path)||"",null===(r=null==n?void 0:n.node)||void 0===r?void 0:r.path),"directory"!==(null===(o=null==n?void 0:n.node)||void 0===o?void 0:o.kind)&&d.U.updateInfo((null==n?void 0:n.node)||""),$(R.includes(null===(a=null==n?void 0:n.node)||void 0===a?void 0:a.filename)?R.filter(function(e){return e!==n.node.filename}):U(U([],R,!0),[null===(l=null==n?void 0:n.node)||void 0===l?void 0:l.filename],!1)),F([null===(s=null==n?void 0:n.node)||void 0===s?void 0:s.path]),G(""),J(""))};return(0,i.useEffect)(function(){var e={db:null,storeName:"mika-solid-templates",version:1},n={id:"daryl",name:"daryl",templates:c};setTimeout(function(){return i=t,r=void 0,a=function(){var t,i,r,o,a;return function(e,n){var t,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(t=1,i&&(r=2&l[0]?i.return:l[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,l[1])).done)return r;switch(i=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],i=0}finally{t=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,function(l){switch(l.label){case 0:return[4,(0,x.r6)(e)];case 1:t=l.sent(),d.U.setCurrentFiles(c),d.U.setCurrentIndexDBInstance(t),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,(0,x.bQ)(t.db,"mika-solid-templates","daryl")];case 3:return(null==(i=l.sent())?void 0:i.templates)?d.U.setCurrentFiles(i.templates):(0,x.ys)(t.db,"mika-solid-templates",n),r=((null==i?void 0:i.templates)||c)[0].children.find(function(e){return e.filename.includes("index.html")}),d.U.updateCode(r.value,"index.html"),d.U.updateInfo(r),C(r),o=setInterval(function(){document.getElementById("previewFrame")&&(f((null==r?void 0:r.value)||"",(null==i?void 0:i.templates)||c),clearInterval(o))},500),[3,5];case 4:return a=l.sent(),console.log(a),[3,5];case 5:return[2]}})},new((o=void 0)||(o=Promise))(function(e,n){function t(e){try{s(a.next(e))}catch(e){n(e)}}function l(e){try{s(a.throw(e))}catch(e){n(e)}}function s(n){var i;n.done?e(n.value):(i=n.value,i instanceof o?i:new o(function(e){e(i)})).then(t,l)}s((a=a.apply(i,r||[])).next())});var i,r,o,a})},[]),(0,i.useEffect)(function(){u.H.switchFileNode.length>0&&Q(0,{node:{path:u.H.switchFileNode[0],filename:u.H.switchFileNode[0]}})},[u.H.switchFileNode]),(0,r.jsxs)("div",{className:"mika-mona-left-dir",children:[I,d.U.currentFiles.length>0&&(0,r.jsx)(l.A,{showLine:!1,showIcon:!0,icon:(0,r.jsx)(h.A,{}),switcherIcon:(0,r.jsx)(m.A,{}),onSelect:Q,onRightClick:function(e){var n;G(null===(n=null==e?void 0:e.node)||void 0===n?void 0:n.path)},selectedKeys:A,onExpand:function(e,n){$(e)},expandedKeys:R,titleRender:function(e){return _===e.path?(0,r.jsx)(s.A,{size:"small",value:z,onClick:function(e){e.stopPropagation()},onFocus:function(e){e.stopPropagation()},onInput:function(e){!function(e){D(e.target.value)}(e)},onBlur:q}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mika-mona-left-dir-title",children:e.filename}),"src"===e.path&&(0,r.jsx)("span",{className:"mika-mona-left-dir-title-add",onClick:K,children:(0,r.jsx)(v.A,{})}),T===e.path&&!(/App.vue|app.jsx|index.html|index.js|index.css/.test(T)||"src"===T)&&(0,r.jsxs)("div",{className:"mika-mona-left-dir-title-op",children:[(0,r.jsx)("span",{children:(0,r.jsx)(b.A,{onClick:function(n){!function(e,n){e.preventDefault(),e.stopPropagation(),D(null==n?void 0:n.filename),J(null==n?void 0:n.path)}(n,e)}})}),(0,r.jsx)("span",{children:(0,r.jsx)(y.A,{onClick:function(n){return function(e,n){e.preventDefault(),e.stopPropagation(),a.A.confirm({title:"Are you sure you want to delete this file?",onOk:function(){var e=(0,k.HO)(d.U.currentFiles),t=e[0].children;t=t.filter(function(e){return e.path!==n.path}),e[0].children=t,d.U.setCurrentFiles(e);var i={id:"daryl",name:"daryl",templates:(0,k.HO)(e)};(0,x.O6)(d.U.currentIndexDBInstance.db,"mika-solid-templates",i),F([c[0].children[0].path]);var r=e[0].children.find(function(e){return e.filename.includes("index.html")});f((null==r?void 0:r.value)||"",e),Q(0,{node:r})}})}(n,e)}})})]})]})},treeData:(JSON.parse(JSON.stringify(d.U.currentFiles))||[]).map(function(e){return j(j({},e),{icon:"directory"===e.kind?(0,r.jsx)(g.A,{}):(0,r.jsx)(h.A,{})})}),fieldNames:{title:"filename",key:"path"}})]})});var S=t(4345),A=t(8463),F=t(5283),O=t(9082),E=t(3220),I=t(6745),N=t(5530),P=t(7427),H=t(2464),T=t(7463),G=function(e,n,t,i){return new(t||(t=Promise))(function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function l(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,l)}s((i=i.apply(e,n||[])).next())})},M=function(e,n){var t,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(t=1,i&&(r=2&l[0]?i.return:l[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,l[1])).done)return r;switch(i=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],i=0}finally{t=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};const z=(0,w.PA)(function(e){var n=this,t=(0,i.useMemo)(function(){return/.*\.html$/.test(d.U.path)?"html":/.*\.js$/.test(d.U.path)?"javascript":"css"},[d.U.path]),o=function(e,t){return G(n,void 0,void 0,function(){var n,t;return M(this,function(i){return d.U.replaceFileContent(e),d.U.updateCode(e||" "),n=(0,p._P)(d.U.currentFiles,"src/index.html"),f(n||"",JSON.parse(JSON.stringify(d.U.currentFiles))),t={id:"daryl",name:"daryl",templates:(0,k.HO)(d.U.currentFiles)},(0,x.O6)(d.U.currentIndexDBInstance.db,"mika-solid-templates",t),[2]})})};return(0,i.useEffect)(function(){u.H.updatedCode&&o(u.H.updatedCode)},[u.H.updatedCode]),(0,r.jsxs)("div",{className:"mika-mona-center-editor",children:[(0,r.jsx)(P.A,{placement:"bottom",color:"lime",title:"formatting codes",children:(0,r.jsx)(H.Ay,{className:"mika-mona-center-editor-format",shape:"circle",icon:(0,r.jsx)(T.A,{}),size:"small",onClick:function(){return G(n,void 0,void 0,function(){var e,n,i;return M(this,function(r){switch(r.label){case 0:e=d.U.code,n=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,A.GP(e,{parser:"javascript"!==t?t:"babel",plugins:[F,I,O,E],tabWidth:4,useTabs:!1,semi:!0,singleQuote:!0,trailingComma:"none",bracketSpacing:!0,arrowParens:"always"})];case 2:return n=r.sent(),d.U.updateCode(" "),setTimeout(function(){d.U.replaceFileContent(n),d.U.updateCode(n)},200),[3,4];case 3:return i=r.sent(),console.log(i),[2];case 4:return[2]}})})}})}),d.U.code&&(0,r.jsx)(S.Ay,{height:"calc(100vh - 66px)",language:t,theme:"vs-dark",value:d.U.code,options:N.A,loading:(0,r.jsx)("div",{className:"monac-load",children:"编辑器加载中.."}),onChange:(0,p.N1)(o,1e3),onMount:function(e,n){e.focus()}})]})}),D=(0,w.PA)(function(e){var n=(0,i.useRef)(null);return(0,r.jsx)("div",{className:"mika-mona-right-view simpleFrame",id:"previewFrame",ref:n})});var B=t(6907),_=t(2595);t(3990);const J=(0,B.PA)(function(){return(0,i.useEffect)(function(){},[]),i.createElement(i.Fragment,null,i.createElement("div",{className:"App"},i.createElement(C,null),i.createElement(z,null),i.createElement(D,null)),i.createElement(_.A,{spinning:d.U.showSpin,percent:"auto",fullscreen:!0},"code服务运行中。。。"))})}}]);