/*! For license information please see 993.bundle.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_MikaEdit=globalThis.webpackChunk_MikaEdit||[]).push([[993],{8993:(n,e,t)=>{t.r(e),t.d(e,{default:()=>L});var i=t(2197),a=t(3361),r=t(515),o=t(2709),l=t(7207),s=t(4788),c=[{filename:"src",value:"",path:"src",kind:"directory",children:[{filename:"index.html",value:'<div id="app" class="app">\n<div class="backbonejs"></div>\n<h1>Backbone.js Page</h1>\n  <div id="app-hd" class="app-hd">\n    <div class="tabs">\n      <ul>\n        <li><span>Home</span></li>\n        <li><span>Dashboard</span></li>\n        <li class="selected"><span>Project</span></li>\n      </ul>\n    </div>\n  </div>\n  <div id="app-bd" class="app-bd">\n      <div class="select-container">\n        Animation Type : \n        <div class="select-wrap">\n          <select name="" id="">\n            <option value="slide">Slide</option>\n            <option value="fade">Fade</option>\n          </select>\n        </div>        \n      </div>\n  </div>\n</div>\n\n',path:"src/index.html"},{filename:"index.js",value:'var AppHeaderView = Backbone.View.extend({\n  el: $("#app-hd")[0],\n\n  events: function() {\n    return {\n      "click .tabs li": this._tabClickHandler\n    };\n  },\n\n  initialize: function(opt) {\n    this.onTabChanged = opt.onTabChanged;\n    this.module = "project";\n  },\n\n  _tabClickHandler: function($e) {\n    var index = $($e.currentTarget).index();\n    var module = "";\n    switch (index) {\n      case 0:\n        module = "home";\n        break;\n      case 1:\n        module = "dashboard";\n        break;\n      case 2:\n        module = "project";\n    }\n    if (this.module == module) {\n      return;\n    }\n    this.module = module;\n    this.$(".tabs li").removeClass("selected").eq(index).addClass("selected");\n    _.isFunction(this.onTabChanged) && this.onTabChanged(module);\n  },\n\n  changeToTab: function(module) {\n    var index = 0;\n    switch (module) {\n      case "home":\n        index = 0;\n        break;\n      case "dashboard":\n        index = 1;\n        break;\n      case "project":\n        index = 2;\n    }\n    this.$(".tabs li").removeClass("selected").eq(index).addClass("selected");\n  }\n});\n\nvar AppPageView = Backbone.View.extend({\n  aniTypes: {\n    fade: {\n      in: "fade-in",\n      out: "fade-out"\n    },\n    slide: {\n      in: "slide-in",\n      out: "slide-out"\n    }\n  },\n\n  template: _.template("<h1><%=module%></h1>"),\n\n  className: function() {\n    return "app-page";\n  },\n\n  initialize: function(opt) {\n    opt = _.extend({}, opt);\n    this.aniType = this.aniTypes[opt.type || "fade"];\n    this.open();\n    this.viewModel = {\n      module: opt.module\n    };\n    this.render();\n  },\n\n  open: function() {\n    var self = this;\n    this.$el\n      .on("animationend", function() {\n        self.$el.removeClass(self.aniType.in);\n      })\n      .addClass(this.aniType.in);\n  },\n\n  setAniType: function(type) {\n    this.aniType = this.aniTypes[type || "fade"];\n  },\n\n  destroy: function() {\n    var self = this;\n    this.$el\n      .on("animationend", function() {\n        self.remove();\n      })\n      .addClass(this.aniType.out);\n  },\n\n  render: function() {\n    this.$el.html(this.template(this.viewModel));\n  }\n});\n\nvar AppDashboardView = AppPageView.extend({\n  className: function() {\n    var superCls = AppPageView.prototype.className.call(this);\n    return superCls + " dashboard";\n  }\n});\n\nvar AppHomePageView = AppPageView.extend({\n  className: function() {\n    var superCls = AppPageView.prototype.className.call(this);\n    return superCls + " home";\n  }\n});\n\nvar AppProjectPageView = AppPageView.extend({\n  className: function() {\n    var superCls = AppPageView.prototype.className.call(this);\n    return superCls + " project";\n  }\n});\n\nvar AppBodyView = Backbone.View.extend({\n  el: $("#app-bd")[0],\n  events: function() {\n    return {\n      "change .select-wrap select": this.aniTypeChange\n    };\n  },\n  initialize: function() {},\n\n  aniTypeChange: function($e) {\n    var $select = $($e.currentTarget);\n    this.aniType = $select.val();\n    if (this.currentPageView) {\n      this.currentPageView.setAniType(this.aniType);\n    }\n  },\n\n  changeToPage: function(module) {\n    if (this.currentPageView) {\n      this.currentPageView.destroy();\n    }\n    var aniType = this.aniType;\n    var newView;\n    switch (module) {\n      case "home":\n        newView = new AppHomePageView({\n          module: "Home Page",\n          type: aniType\n        });\n        break;\n      case "dashboard":\n        newView = new AppDashboardView({\n          module: "Dashboard Page",\n          type: aniType\n        });\n        break;\n      case "project":\n        newView = new AppProjectPageView({\n          module: "Project Page",\n          type: aniType\n        });\n    }\n    this.$el.append(newView.el);\n    this.currentPageView = newView;\n  }\n});\n\nvar ApplicationView = Backbone.View.extend({\n  el: $("#app")[0],\n\n  initialize: function() {\n    var self = this;\n    this.hdView = new AppHeaderView({\n      onTabChanged: function(module) {\n        self.onAppTabChanged(module);\n      }\n    });\n    this.bdView = new AppBodyView();\n\n    this.bdView.changeToPage("project", true);\n  },\n\n  onAppTabChanged: function(module) {\n    this.hdView.changeToTab(module);\n    this.bdView.changeToPage(module);\n  }\n});\n\napp.application = new ApplicationView();\n',path:"src/index.js"},{filename:"index.scss",value:'*{\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nhtml,\nbody {\n  font-size: 10px;\n  height: 100%;\n}\n\nbody {\n  font-size: 2em;\n  line-height: 1.5372;\n  color: #333;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n}\n\n.app {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  .app-hd,\n  .app-bd {\n    position: absolute;\n    left: 0;\n    right: 0;\n  }\n}\n\n.app-hd {\n  background-color: #f0f0f0;\n  .tabs {\n    ul {\n      height: 76px;\n      display: flex;\n      list-style: none;\n      align-items: center;\n      justify-content: center;\n      li {\n        display: inline-block;\n        padding: 10px 20px;\n        cursor: pointer;\n        font-size: 14px;\n        &.selected {\n          color: #d11b1b;\n        }\n      }\n    }\n  }\n}\n.app-hd{\n  top:275px;\n}\n.app-bd {\n  top: 345px;\n  bottom: 0;\n  overflow: hidden;\n  .app-page {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    text-align: center;\n    padding-top: 100px;\n    color: white;\n    &.home {\n      background-color: #1abc9c;\n    }\n    &.dashboard {\n      background-color: #34495e;\n    }\n    &.project {\n      background-color: #9b59b6;\n    }\n  }\n  \n  .select-container{\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    z-index: 2;\n    color: white;\n    .select-wrap{\n      display: inline-block;\n      position: relative;\n      margin-left: 10px;\n      select{\n        background-image: none;\n        -webkit-appearance: none ;\n        border: 1px solid white;\n        padding: 10px 40px;\n        padding-right: 44px;\n        background-color: transparent;\n        outline: none;\n        border-radius: 0;\n        color: white;\n        border-radius: 2px;\n      }\n       &:before{\n          content: "";\n          position: absolute;\n          right: 10px;\n          top: 50%;\n          height: 2px;\n          margin-top: -2px;\n          display: block;\n          border: 5px solid transparent;\n          border-top-color: white;\n          z-index: 1000;\n        }\n    }\n  }\n}\n\n.slide-in {\n  animation: slide-in .4s linear;  \n  z-index: 1 ;\n}\n\n.slide-out {\n  animation: slide-out .4s linear;\n}\n\n@keyframes slide-in {\n  from {\n    transform: translateY(-100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n@keyframes slide-out {\n  from {\n    transform: translateY(0%);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(-100%);\n    opacity: 0;\n  }\n}\n\n.fade-in{\n  animation: fade-in .4s linear;\n}\n\n.fade-out{\n  animation: fade-out .4s linear;\n}\n\n@keyframes fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fade-out {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.backbonejs{\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 145px;\n  width: 190px;\n  height: 140px;\n\tborder: solid #002A41 2em;\n\tborder-left-width: 1.5em;\n\tborder-right-width: 1.5em;\n\ttransform: translate3d(-50%, -50%, 0) skewY(30deg);\n\ttransform-style: preserve-3d;\n\t&:before{\n\tcontent:"";\n\t\tposition: absolute;\n\t\tleft: -1.5em;\n\t\ttop: .7em;\n\t\twidth: 3em;\n\t\theight: 3em;\n\t\tborder: solid #0071B5 2em;\n\t\tborder-left-width: 1.5em;\n\t\tborder-right: none;\n\t\ttransform: skewY(-50deg) translate3d(0,0,0);\n\t}\n\t\t&:after{\n\t\tcontent:"";\n\t\tposition: absolute;\n\t\tleft: 3em;\n\t\ttop: -4.65em;\n\t\twidth: 3em;\n\t\theight: 3em;\n\t\tborder: solid #0071B5 2em;\n\t\tborder-right-width: 1.5em;\n\t\tborder-left: none;\n\t\ttransform: skewY(-50deg) translate3d(0,0,-1px);\n\t}\n}\nh1{\n\ttext-align: center;\n\tfont-size: 16px;\n\tfont-family: \'Lato\', sans-serif;\n\tcolor: gray;\n}\n\n\ninput[type="range"]{\n\tposition: absolute;\n\twidth: 100px;\n\theight: 20px;\n\tbottom: 20px;\n\tleft: 0;\n\tright: 0;\n\tmargin: auto;\n}\ninput[type=range]:focus {\n  outline: none;\n}\n\n',path:"src/index.scss"}]}],d=t(6205),u=t(8347),p=t(8833),f=t(4690);function h(){var n,e,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function r(t,i,a,r){var s=i&&i.prototype instanceof l?i:l,c=Object.create(s.prototype);return m(c,"_invoke",function(t,i,a){var r,l,s,c=0,d=a||[],u=!1,p={p:0,n:0,v:n,a:f,f:f.bind(n,4),d:function(e,t){return r=e,l=0,s=n,p.n=t,o}};function f(t,i){for(l=t,s=i,e=0;!u&&c&&!a&&e<d.length;e++){var a,r=d[e],f=p.p,h=r[2];t>3?(a=h===i)&&(s=r[(l=r[4])?5:(l=3,3)],r[4]=r[5]=n):r[0]<=f&&((a=t<2&&f<r[1])?(l=0,p.v=i,p.n=r[1]):f<h&&(a=t<3||r[0]>i||i>h)&&(r[4]=t,r[5]=i,p.n=h,l=0))}if(a||t>1)return o;throw u=!0,i}return function(a,d,h){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,h),l=d,s=h;(e=l<2?n:s)||!u;){r||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,r){if(l||(a="next"),e=r[a]){if(!(e=e.call(r,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,l<2&&(l=0)}else 1===l&&(e=r.return)&&e.call(r),l<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),l=1);r=n}else if((e=(u=p.n<0)?s:t.call(i,p))!==o)break}catch(e){r=n,l=1,s=e}finally{c=1}}return{value:e,done:u}}}(t,a,r),!0),c}var o={};function l(){}function s(){}function c(){}e=Object.getPrototypeOf;var d=[][i]?e(e([][i]())):(m(e={},i,function(){return this}),e),u=c.prototype=l.prototype=Object.create(d);function p(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,c):(n.__proto__=c,m(n,a,"GeneratorFunction")),n.prototype=Object.create(u),n}return s.prototype=c,m(u,"constructor",c),m(c,"constructor",s),s.displayName="GeneratorFunction",m(c,a,"GeneratorFunction"),m(u),m(u,a,"Generator"),m(u,i,function(){return this}),m(u,"toString",function(){return"[object Generator]"}),(h=function(){return{w:r,m:p}})()}function m(n,e,t,i){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}m=function(n,e,t,i){function r(e,t){m(n,e,function(n){return this._invoke(e,t,n)})}e?a?a(n,e,{value:t,enumerable:!i,configurable:!i,writable:!i}):n[e]=t:(r("next",0),r("throw",1),r("return",2))},m(n,e,t,i)}function b(n,e,t,i,a,r,o){try{var l=n[r](o),s=l.value}catch(n){return void t(n)}l.done?e(s):Promise.resolve(s).then(i,a)}var v=function(){var n,e=(n=h().m(function n(e,t,i){var a,r,o,l,s,c,d;return h().w(function(n){for(;;)switch(n.n){case 0:return r={"index.html":e},((null==t||null===(a=t[0])||void 0===a?void 0:a.children)||[]).forEach(function(n){/index.html/.test(n.filename)||(r["".concat(n.filename)]=n.value)}),null==r||r["index.js"],o=null==r?void 0:r["index.scss"],n.n=1,(0,f.o)(o);case 1:l=n.v,s=null==r?void 0:r["index.js"],c=null==r?void 0:r["index.html"],(d=document.createElement("iframe")).setAttribute("id","frameLive"),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("style","border:0px"),d.setAttribute("srcdoc",'<!DOCTYPE html>\n<html lang="zh-CN">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>backbone preview page</title>\n    <style>'.concat(l,"</style>\n</head>\n<body>\n<script>\nwindow.console=window.parent.console;\n<\/script>\n").concat(c,'\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js" integrity="sha512-jGR1T3dQerLCSm/IGEGbndPwzszJBlKQ5Br9vuB0Pw2iyxOy+7AK+lJcCC8eaXyz/9du+bkCy4HXxByhxkHf+w==" crossorigin="anonymous" referrerpolicy="no-referrer"><\/script>\n        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"><\/script>\n        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"><\/script>\n        <script type="text/javascript">\n            ').concat(s,"\n        <\/script>\n    </body>\n    </html>")),document.getElementById("previewFrame").innerHTML="",document.getElementById("previewFrame").appendChild(d);case 2:return n.a(2)}},n)}),function(){var e=this,t=arguments;return new Promise(function(i,a){var r=n.apply(e,t);function o(n){b(r,i,a,o,l,"next",n)}function l(n){b(r,i,a,o,l,"throw",n)}o(void 0)})});return function(n,t,i){return e.apply(this,arguments)}}(),y=t(1187),g=t(7453),w=t(3759),x=t(4539),k=t(7861),j=t(8918),A=t(475),C=t(9075),T=t(3790),P=function(){return P=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},P.apply(this,arguments)},U=function(n,e,t){if(t||2===arguments.length)for(var i,a=0,r=e.length;a<r;a++)!i&&a in e||(i||(i=Array.prototype.slice.call(e,0,a)),i[a]=e[a]);return n.concat(i||Array.prototype.slice.call(e))};const V=(0,C.PA)(function(n){var e,t=this,f=(0,i.useState)({}),h=(f[0],f[1]),m=(0,i.useState)([c[0].children[0].path]),b=m[0],C=m[1],V=r.Ay.useMessage(),F=V[0],O=V[1],S=(0,i.useState)(null),E=S[0],N=(S[1],(0,i.useState)("")),I=N[0],H=N[1],B=(0,i.useState)(""),$=B[0],z=B[1],_=(0,i.useState)(""),D=_[0],G=_[1],M=(0,i.useState)([null===(e=c[0])||void 0===e?void 0:e.path]),Y=M[0],J=M[1],L=function(n){var e=(0,T.HO)(d.U.currentFiles);(e[0].children||[]).forEach(function(n){n.path===D&&(n.filename=$)}),d.U.setCurrentFiles(e);var t={id:"daryl",name:"daryl",templates:(0,T.HO)(e)};(0,A.O6)(d.U.currentIndexDBInstance.db,"backbone-ng-templates",t);var i=e[0].children.find(function(n){return n.filename.includes("index.html")});v((null==i?void 0:i.value)||"",e),H(""),z(""),G("")},q=function(n){if(n.preventDefault(),n.stopPropagation(),!E){var e=(0,T.HO)(d.U.currentFiles);(e[0].children||[]).forEach(function(n){n.path===D&&(n.filename=$)});var t=e[0].children;if(t.length>7)F.open({type:"error",content:"maxium file number reached ！！"});else{var i={filename:"newFile".concat(t.length,".js"),path:"src/newFile".concat(t.length,".js"),value:" "};e[0].children.push(i),d.U.setCurrentFiles(e);var a={id:"daryl",name:"daryl",templates:(0,T.HO)(e)};(0,A.O6)(d.U.currentIndexDBInstance.db,"mika-backbone-templates",a)}}},K=function(n,e){var t,i,a,r,o,l,s;window._canSelectTree&&("directory"!==(null===(t=null==e?void 0:e.node)||void 0===t?void 0:t.kind)&&d.U.updateCode((0,p._P)(d.U.currentFiles,null===(i=null==e?void 0:e.node)||void 0===i?void 0:i.path)||"",null===(a=null==e?void 0:e.node)||void 0===a?void 0:a.path),"directory"!==(null===(r=null==e?void 0:e.node)||void 0===r?void 0:r.kind)&&d.U.updateInfo((null==e?void 0:e.node)||""),J(Y.includes(null===(o=null==e?void 0:e.node)||void 0===o?void 0:o.filename)?Y.filter(function(n){return n!==e.node.filename}):U(U([],Y,!0),[null===(l=null==e?void 0:e.node)||void 0===l?void 0:l.filename],!1)),C([null===(s=null==e?void 0:e.node)||void 0===s?void 0:s.path]),H(""),G(""))};return(0,i.useEffect)(function(){var n={db:null,storeName:"mika-backbone-templates",version:1},e={id:"daryl",name:"daryl",templates:c};setTimeout(function(){return i=t,a=void 0,o=function(){var t,i,a,r,o;return function(n,e){var t,i,a,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(t=1,i&&(a=2&l[0]?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!((a=(a=r.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(6===l[0]&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(n,r)}catch(n){l=[6,n],i=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,function(l){switch(l.label){case 0:return[4,(0,A.r6)(n)];case 1:t=l.sent(),d.U.setCurrentFiles(c),d.U.setCurrentIndexDBInstance(t),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,(0,A.bQ)(t.db,"mika-backbone-templates","daryl")];case 3:return(null==(i=l.sent())?void 0:i.templates)?d.U.setCurrentFiles(i.templates):(0,A.ys)(t.db,"mika-backbone-templates",e),a=((null==i?void 0:i.templates)||c)[0].children.find(function(n){return n.filename.includes("index.html")}),d.U.updateCode(a.value,"index.html"),d.U.updateInfo(a),h(a),r=setInterval(function(){document.getElementById("previewFrame")&&(v((null==a?void 0:a.value)||"",(null==i?void 0:i.templates)||c),clearInterval(r))},500),[3,5];case 4:return o=l.sent(),console.log(o),[3,5];case 5:return[2]}})},new((r=void 0)||(r=Promise))(function(n,e){function t(n){try{s(o.next(n))}catch(n){e(n)}}function l(n){try{s(o.throw(n))}catch(n){e(n)}}function s(e){var i;e.done?n(e.value):(i=e.value,i instanceof r?i:new r(function(n){n(i)})).then(t,l)}s((o=o.apply(i,a||[])).next())});var i,a,r,o})},[]),(0,i.useEffect)(function(){u.H.switchFileNode.length>0&&K(0,{node:{path:u.H.switchFileNode[0],filename:u.H.switchFileNode[0]}})},[u.H.switchFileNode]),(0,a.jsxs)("div",{className:"mika-mona-left-dir",children:[O,d.U.currentFiles.length>0&&(0,a.jsx)(l.A,{showLine:!1,showIcon:!0,icon:(0,a.jsx)(y.A,{}),switcherIcon:(0,a.jsx)(g.A,{}),onSelect:K,onRightClick:function(n){var e;H(null===(e=null==n?void 0:n.node)||void 0===e?void 0:e.path)},selectedKeys:b,onExpand:function(n,e){J(n)},expandedKeys:Y,titleRender:function(n){return D===n.path?(0,a.jsx)(s.A,{size:"small",value:$,onClick:function(n){n.stopPropagation()},onFocus:function(n){n.stopPropagation()},onInput:function(n){!function(n){z(n.target.value)}(n)},onBlur:L}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mika-mona-left-dir-title",children:n.filename}),"src"===n.path&&(0,a.jsx)("span",{className:"mika-mona-left-dir-title-add",onClick:q,children:(0,a.jsx)(w.A,{})}),I===n.path&&!(/App.vue|app.jsx|index.html|index.js|index.css/.test(I)||"src"===I)&&(0,a.jsxs)("div",{className:"mika-mona-left-dir-title-op",children:[(0,a.jsx)("span",{children:(0,a.jsx)(x.A,{onClick:function(e){!function(n,e){n.preventDefault(),n.stopPropagation(),z(null==e?void 0:e.filename),G(null==e?void 0:e.path)}(e,n)}})}),(0,a.jsx)("span",{children:(0,a.jsx)(k.A,{onClick:function(e){return function(n,e){n.preventDefault(),n.stopPropagation(),o.A.confirm({title:"Are you sure you want to delete this file?",onOk:function(){var n=(0,T.HO)(d.U.currentFiles),t=n[0].children;t=t.filter(function(n){return n.path!==e.path}),n[0].children=t,d.U.setCurrentFiles(n);var i={id:"daryl",name:"daryl",templates:(0,T.HO)(n)};(0,A.O6)(d.U.currentIndexDBInstance.db,"mika-backbone-templates",i),C([c[0].children[0].path]);var a=n[0].children.find(function(n){return n.filename.includes("index.html")});v((null==a?void 0:a.value)||"",n),K(0,{node:a})}})}(e,n)}})})]})]})},treeData:(JSON.parse(JSON.stringify(d.U.currentFiles))||[]).map(function(n){return P(P({},n),{icon:"directory"===n.kind?(0,a.jsx)(j.A,{}):(0,a.jsx)(y.A,{})})}),fieldNames:{title:"filename",key:"path"}})]})});var F=t(4345),O=t(8463),S=t(5283),E=t(9082),N=t(3220),I=t(6745),H=t(5530),B=t(7427),$=t(2464),z=t(7463),_=function(n,e,t,i){return new(t||(t=Promise))(function(a,r){function o(n){try{s(i.next(n))}catch(n){r(n)}}function l(n){try{s(i.throw(n))}catch(n){r(n)}}function s(n){var e;n.done?a(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(o,l)}s((i=i.apply(n,e||[])).next())})},D=function(n,e){var t,i,a,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(t=1,i&&(a=2&l[0]?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!((a=(a=r.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(6===l[0]&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(n,r)}catch(n){l=[6,n],i=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};const G=(0,C.PA)(function(n){var e=this,t=(0,i.useMemo)(function(){return/.*\.html$/.test(d.U.path)?"html":/.*\.js$/.test(d.U.path)?"javascript":"css"},[d.U.path]),r=function(n,t){return _(e,void 0,void 0,function(){var e,t;return D(this,function(i){return d.U.replaceFileContent(n),d.U.updateCode(n||" "),e=(0,p._P)(d.U.currentFiles,"src/index.html"),v(e||"",JSON.parse(JSON.stringify(d.U.currentFiles)),!0),t={id:"daryl",name:"daryl",templates:(0,T.HO)(d.U.currentFiles)},(0,A.O6)(d.U.currentIndexDBInstance.db,"mika-backbone-templates",t),[2]})})};return(0,i.useEffect)(function(){u.H.updatedCode&&r(u.H.updatedCode)},[u.H.updatedCode]),(0,a.jsxs)("div",{className:"mika-mona-center-editor",children:[(0,a.jsx)(B.A,{placement:"bottom",color:"lime",title:"formatting codes",children:(0,a.jsx)($.Ay,{className:"mika-mona-center-editor-format",shape:"circle",icon:(0,a.jsx)(z.A,{}),size:"small",onClick:function(){return _(e,void 0,void 0,function(){var n,e,i;return D(this,function(a){switch(a.label){case 0:n=d.U.code,e=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,O.GP("html"===t?n.split(/<script.*text\/x-handlebars[',"]/).join('<slot type="replace"').replace(/script>/g,"slot>"):n,{parser:"javascript"!==t?t:"babel",plugins:[S,I,E,N],tabWidth:4,useTabs:!1,semi:!0,singleQuote:!0,trailingComma:"none",bracketSpacing:!0,arrowParens:"always"})];case 2:return e=a.sent(),d.U.updateCode(" "),setTimeout(function(){var n="html"===t?e.replace(/<slot type="replace"/g,"<script type='text/x-handlebars'").replace(/slot>/g,"script>"):e;d.U.replaceFileContent(n),d.U.updateCode(n)},200),[3,4];case 3:return i=a.sent(),console.log(i),[2];case 4:return[2]}})})}})}),d.U.code&&(0,a.jsx)(F.Ay,{height:"calc(100vh - 66px)",language:"html"===t?"markdown":t,theme:"vs-dark",value:d.U.code,options:H.A,loading:(0,a.jsx)("div",{className:"monac-load",children:"编辑器加载中.."}),onChange:(0,p.N1)(r,1e3),onMount:function(n,e){n.focus()}})]})}),M=(0,C.PA)(function(n){var e=(0,i.useRef)(null);return(0,a.jsx)("div",{className:"mika-mona-right-view simpleFrame backbone-frame",id:"previewFrame",ref:e})});var Y=t(6907),J=t(2595);t(3990);const L=(0,Y.PA)(function(){return(0,i.useEffect)(function(){},[]),i.createElement(i.Fragment,null,i.createElement("div",{className:"App"},i.createElement(V,null),i.createElement(G,null),i.createElement(M,null)),i.createElement(J.A,{spinning:d.U.showSpin,percent:"auto",fullscreen:!0},"backbone切换中..."))})}}]);